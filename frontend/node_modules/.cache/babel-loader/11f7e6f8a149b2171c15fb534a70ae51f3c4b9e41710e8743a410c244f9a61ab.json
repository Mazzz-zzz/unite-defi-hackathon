{"ast":null,"code":"var _jsxFileName = \"/Users/almazkhalilov/Documents/Hackathon-1inch/frontend/src/components/OneInchSwapComponent.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback, useMemo } from 'react';\nimport { ethers } from 'ethers';\nimport './OneInchSwapComponent.css';\n\n// Web3 Window extension\n\n// 1inch API Integration Class\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nclass OneInchAPI {\n  constructor() {\n    this.baseUrl = void 0;\n    // Use local backend proxy instead of direct 1inch API\n    this.baseUrl = 'http://localhost:3001/api';\n  }\n  async getSupportedTokens() {\n    const response = await fetch(`${this.baseUrl}/tokens`);\n    if (!response.ok) {\n      throw new Error(`Failed to fetch tokens: ${response.status}`);\n    }\n    const data = await response.json();\n    return data.tokens;\n  }\n  async getQuote(src, dst, amount, slippage = 1) {\n    const url = new URL(`${this.baseUrl}/quote`);\n    url.searchParams.append('src', src);\n    url.searchParams.append('dst', dst);\n    url.searchParams.append('amount', amount);\n    url.searchParams.append('slippage', slippage.toString());\n    const response = await fetch(url.toString());\n    if (!response.ok) {\n      throw new Error(`Failed to get quote: ${response.status}`);\n    }\n    return await response.json();\n  }\n  async buildSwap(src, dst, amount, from, slippage = 1) {\n    const url = new URL(`${this.baseUrl}/swap`);\n    url.searchParams.append('src', src);\n    url.searchParams.append('dst', dst);\n    url.searchParams.append('amount', amount);\n    url.searchParams.append('from', from);\n    url.searchParams.append('slippage', slippage.toString());\n    const response = await fetch(url.toString());\n    if (!response.ok) {\n      throw new Error(`Failed to build swap: ${response.status}`);\n    }\n    return await response.json();\n  }\n  async checkAllowance(tokenAddress, walletAddress) {\n    const url = new URL(`${this.baseUrl}/approve/allowance`);\n    url.searchParams.append('tokenAddress', tokenAddress);\n    url.searchParams.append('walletAddress', walletAddress);\n    const response = await fetch(url.toString());\n    if (!response.ok) {\n      throw new Error(`Failed to check allowance: ${response.status}`);\n    }\n    const data = await response.json();\n    return data.allowance;\n  }\n  async buildApproval(tokenAddress) {\n    const url = new URL(`${this.baseUrl}/approve/transaction`);\n    url.searchParams.append('tokenAddress', tokenAddress);\n    const response = await fetch(url.toString());\n    if (!response.ok) {\n      throw new Error(`Failed to build approval: ${response.status}`);\n    }\n    return await response.json();\n  }\n}\n\n// React Component for 1inch Token Swapping\nconst OneInchSwapComponent = () => {\n  _s();\n  var _tokens$fromToken, _tokens$toToken4, _quote$protocols, _quote$protocols$;\n  // State management\n  const [tokens, setTokens] = useState({});\n  const [fromToken, setFromToken] = useState('');\n  const [toToken, setToToken] = useState('');\n  const [amount, setAmount] = useState('');\n  const [quote, setQuote] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [account, setAccount] = useState('');\n  const [provider, setProvider] = useState(null);\n  const [slippage, setSlippage] = useState(1);\n  const [isConnecting, setIsConnecting] = useState(false);\n\n  // 1inch API instance (uses local backend proxy) - memoized to prevent infinite re-renders\n  const api = useMemo(() => new OneInchAPI(), []);\n\n  // Common token addresses\n  const commonTokens = {\n    ETH: '0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE',\n    USDC: '0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48',\n    USDT: '0xdac17f958d2ee523a2206206994597c13d831ec7',\n    WETH: '0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2',\n    DAI: '0x6b175474e89094c44da98b954eedeac495271d0f'\n  };\n\n  // Connect wallet\n  const connectWallet = async () => {\n    if (typeof window.ethereum !== 'undefined') {\n      setIsConnecting(true);\n      try {\n        const web3Provider = new ethers.providers.Web3Provider(window.ethereum);\n        await web3Provider.send('eth_requestAccounts', []);\n        const signer = web3Provider.getSigner();\n        const address = await signer.getAddress();\n        setProvider(web3Provider);\n        setAccount(address);\n        setError('');\n        console.log('✅ Wallet connected:', address);\n      } catch (err) {\n        setError('Failed to connect wallet');\n        console.error('Wallet connection error:', err);\n      } finally {\n        setIsConnecting(false);\n      }\n    } else {\n      setError('MetaMask not found. Please install MetaMask!');\n    }\n  };\n\n  // Load supported tokens\n  useEffect(() => {\n    const loadTokens = async () => {\n      try {\n        console.log('🔄 Loading supported tokens...');\n        const supportedTokens = await api.getSupportedTokens();\n        setTokens(supportedTokens);\n\n        // Set default tokens\n        setFromToken(commonTokens.ETH);\n        setToToken(commonTokens.USDC);\n        console.log(`✅ Loaded ${Object.keys(supportedTokens).length} tokens`);\n      } catch (err) {\n        setError('Failed to load tokens');\n        console.error('Token loading error:', err);\n      }\n    };\n    loadTokens();\n  }, [api]);\n\n  // Get quote when inputs change\n  const getQuote = useCallback(async () => {\n    if (!fromToken || !toToken || !amount || isNaN(Number(amount)) || Number(amount) <= 0) {\n      setQuote(null);\n      return;\n    }\n    setLoading(true);\n    setError('');\n    try {\n      var _tokens$toToken, _tokens$toToken2, _tokens$toToken3;\n      const fromTokenData = tokens[fromToken];\n      const decimals = (fromTokenData === null || fromTokenData === void 0 ? void 0 : fromTokenData.decimals) || 18;\n      const amountWei = ethers.utils.parseUnits(amount, decimals).toString();\n      console.log(`🔍 Getting quote: ${amount} ${fromTokenData === null || fromTokenData === void 0 ? void 0 : fromTokenData.symbol} → ${(_tokens$toToken = tokens[toToken]) === null || _tokens$toToken === void 0 ? void 0 : _tokens$toToken.symbol}`);\n      const quoteResult = await api.getQuote(fromToken, toToken, amountWei, slippage);\n      setQuote(quoteResult);\n      const outputAmount = Number(quoteResult.dstAmount) / Math.pow(10, ((_tokens$toToken2 = tokens[toToken]) === null || _tokens$toToken2 === void 0 ? void 0 : _tokens$toToken2.decimals) || 18);\n      console.log(`✅ Quote: ${outputAmount.toFixed(6)} ${(_tokens$toToken3 = tokens[toToken]) === null || _tokens$toToken3 === void 0 ? void 0 : _tokens$toToken3.symbol}`);\n    } catch (err) {\n      setError('Failed to get quote. Please check your inputs.');\n      setQuote(null);\n      console.error('Quote error:', err);\n    } finally {\n      setLoading(false);\n    }\n  }, [fromToken, toToken, amount, slippage, tokens, api]);\n\n  // Debounced quote fetching\n  useEffect(() => {\n    const timer = setTimeout(getQuote, 1000);\n    return () => clearTimeout(timer);\n  }, [getQuote]);\n\n  // Execute swap\n  const executeSwap = async () => {\n    if (!provider || !account || !quote || !amount) {\n      setError('Missing requirements for swap');\n      return;\n    }\n    setLoading(true);\n    setError('');\n    try {\n      const fromTokenData = tokens[fromToken];\n      const decimals = (fromTokenData === null || fromTokenData === void 0 ? void 0 : fromTokenData.decimals) || 18;\n      const amountWei = ethers.utils.parseUnits(amount, decimals).toString();\n      console.log('🔄 Starting swap process...');\n\n      // Check if approval is needed (skip for ETH)\n      if (fromToken !== commonTokens.ETH) {\n        console.log('🔐 Checking token approval...');\n        const allowance = await api.checkAllowance(fromToken, account);\n        if (ethers.BigNumber.from(allowance).lt(ethers.BigNumber.from(amountWei))) {\n          console.log('⚠️ Insufficient allowance, requesting approval...');\n\n          // Build and execute approval\n          const approvalTx = await api.buildApproval(fromToken);\n          const signer = provider.getSigner();\n          const approveTx = await signer.sendTransaction({\n            to: approvalTx.to,\n            data: approvalTx.data,\n            gasLimit: approvalTx.gas\n          });\n          console.log('⏳ Waiting for approval confirmation...');\n          await approveTx.wait();\n          console.log('✅ Approval confirmed');\n        }\n      }\n\n      // Build and execute swap\n      console.log('🔨 Building swap transaction...');\n      const swapData = await api.buildSwap(fromToken, toToken, amountWei, account, slippage);\n      const signer = provider.getSigner();\n      console.log('🚀 Executing swap...');\n      const tx = await signer.sendTransaction({\n        to: swapData.tx.to,\n        data: swapData.tx.data,\n        value: swapData.tx.value,\n        gasLimit: swapData.tx.gas\n      });\n      console.log('⏳ Waiting for confirmation...');\n      const receipt = await tx.wait();\n\n      // Reset form on success\n      setAmount('');\n      setQuote(null);\n      console.log('🎉 Swap successful!', receipt.transactionHash);\n      alert(`✅ Swap successful!\\nTransaction: ${receipt.transactionHash}`);\n    } catch (err) {\n      const errorMessage = (err === null || err === void 0 ? void 0 : err.message) || 'Unknown error';\n      setError(`Swap failed: ${errorMessage}`);\n      console.error('Swap error:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Format token amount for display\n  const formatTokenAmount = (amount, tokenAddress) => {\n    if (!amount || !tokenAddress) return '0.0';\n    const tokenData = tokens[tokenAddress];\n    const decimals = (tokenData === null || tokenData === void 0 ? void 0 : tokenData.decimals) || 18;\n    try {\n      return ethers.utils.formatUnits(amount, decimals);\n    } catch (error) {\n      console.error('Error formatting token amount:', error);\n      return '0.0';\n    }\n  };\n\n  // Render token selector\n  const renderTokenSelector = (value, onChange, excludeToken) => /*#__PURE__*/_jsxDEV(\"select\", {\n    value: value,\n    onChange: e => onChange(e.target.value),\n    className: \"token-selector\",\n    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n      value: \"\",\n      children: \"Select Token\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 335,\n      columnNumber: 7\n    }, this), Object.entries(commonTokens).filter(([_, address]) => address !== excludeToken).map(([symbol, address]) => /*#__PURE__*/_jsxDEV(\"option\", {\n      value: address,\n      children: symbol\n    }, address, false, {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 11\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 330,\n    columnNumber: 5\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"swap-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"swap-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\uD83D\\uDD04 Token Swap\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"api-status\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"status-badge\",\n          children: \"\\u2705 Live API\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 351,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"status-badge\",\n          children: \"\\uD83D\\uDCCA Real Data\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 348,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"wallet-section\",\n      children: account ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"wallet-connected\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"wallet-icon\",\n          children: \"\\uD83D\\uDCBC\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"Connected: \", account.slice(0, 6), \"...\", account.slice(-4)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"network-badge\",\n          children: \"Ethereum\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: connectWallet,\n        className: \"connect-button\",\n        disabled: isConnecting,\n        children: isConnecting ? 'Connecting...' : '🔗 Connect Wallet'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 365,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 357,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-message\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"error-icon\",\n        children: \"\\u26A0\\uFE0F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 378,\n        columnNumber: 11\n      }, this), error]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 377,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"swap-interface\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"token-input-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"input-label\",\n          children: \"From\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 387,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"token-input\",\n          children: [renderTokenSelector(fromToken, setFromToken, toToken), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            value: amount,\n            onChange: e => setAmount(e.target.value),\n            placeholder: \"0.0\",\n            className: \"amount-input\",\n            step: \"any\",\n            min: \"0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 390,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 11\n        }, this), fromToken && tokens[fromToken] && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"token-info\",\n          children: ((_tokens$fromToken = tokens[fromToken]) === null || _tokens$fromToken === void 0 ? void 0 : _tokens$fromToken.name) || 'Loading...'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 401,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 386,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"swap-direction-container\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            setFromToken(toToken);\n            setToToken(fromToken);\n            setQuote(null);\n          },\n          className: \"swap-direction\",\n          title: \"Swap token order\",\n          children: \"\\u21C5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 409,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 408,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"token-input-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"input-label\",\n          children: \"To\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 424,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"token-input\",\n          children: [renderTokenSelector(toToken, setToToken, fromToken), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"amount-display\",\n            children: quote ? formatTokenAmount(quote.dstAmount, toToken) : '0.0'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 427,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 425,\n          columnNumber: 11\n        }, this), toToken && tokens[toToken] && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"token-info\",\n          children: tokens[toToken].name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 432,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 423,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"slippage-settings\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"settings-label\",\n          children: [\"\\u2699\\uFE0F Slippage: \", slippage, \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 440,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"slippage-controls\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"range\",\n            min: \"0.1\",\n            max: \"5\",\n            step: \"0.1\",\n            value: slippage,\n            onChange: e => setSlippage(Number(e.target.value)),\n            className: \"slippage-slider\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 444,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"slippage-presets\",\n            children: [0.5, 1, 2, 5].map(preset => /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setSlippage(preset),\n              className: `preset-button ${slippage === preset ? 'active' : ''}`,\n              children: [preset, \"%\"]\n            }, preset, true, {\n              fileName: _jsxFileName,\n              lineNumber: 455,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 453,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 443,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 439,\n        columnNumber: 9\n      }, this), quote && Object.keys(tokens).length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"quote-display\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\uD83D\\uDCCA Quote Details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 470,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"quote-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Expected Output:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 472,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"quote-value\",\n            children: [formatTokenAmount(quote.dstAmount, toToken), \" \", ((_tokens$toToken4 = tokens[toToken]) === null || _tokens$toToken4 === void 0 ? void 0 : _tokens$toToken4.symbol) || 'Token']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 473,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 471,\n          columnNumber: 13\n        }, this), quote.estimatedGas && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"quote-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Estimated Gas:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 479,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"quote-value\",\n            children: quote.estimatedGas\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 480,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 478,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"quote-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Route:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 484,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"quote-value\",\n            children: [((_quote$protocols = quote.protocols) === null || _quote$protocols === void 0 ? void 0 : (_quote$protocols$ = _quote$protocols[0]) === null || _quote$protocols$ === void 0 ? void 0 : _quote$protocols$.length) || 0, \" protocol(s)\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 485,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 483,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 469,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: executeSwap,\n        disabled: !account || !quote || loading || !amount,\n        className: `swap-button ${loading ? 'loading' : ''}`,\n        children: loading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"spinner\",\n            children: \"\\u23F3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 498,\n            columnNumber: 15\n          }, this), \"Processing...\"]\n        }, void 0, true) : '🚀 Swap Tokens'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 491,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"info-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"info-item\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"\\uD83D\\uDCA1 This uses the real 1inch API\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 509,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 508,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"info-item\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"\\uD83D\\uDD10 Your wallet stays secure\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 512,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 511,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"info-item\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"\\u26A1 Best rates from 139 protocols\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 515,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 514,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 507,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 384,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 347,\n    columnNumber: 5\n  }, this);\n};\n_s(OneInchSwapComponent, \"wcAVq4qjACER3wNczXcIlrnf6vY=\");\n_c = OneInchSwapComponent;\nexport default OneInchSwapComponent;\nvar _c;\n$RefreshReg$(_c, \"OneInchSwapComponent\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useMemo","ethers","jsxDEV","_jsxDEV","Fragment","_Fragment","OneInchAPI","constructor","baseUrl","getSupportedTokens","response","fetch","ok","Error","status","data","json","tokens","getQuote","src","dst","amount","slippage","url","URL","searchParams","append","toString","buildSwap","from","checkAllowance","tokenAddress","walletAddress","allowance","buildApproval","OneInchSwapComponent","_s","_tokens$fromToken","_tokens$toToken4","_quote$protocols","_quote$protocols$","setTokens","fromToken","setFromToken","toToken","setToToken","setAmount","quote","setQuote","loading","setLoading","error","setError","account","setAccount","provider","setProvider","setSlippage","isConnecting","setIsConnecting","api","commonTokens","ETH","USDC","USDT","WETH","DAI","connectWallet","window","ethereum","web3Provider","providers","Web3Provider","send","signer","getSigner","address","getAddress","console","log","err","loadTokens","supportedTokens","Object","keys","length","isNaN","Number","_tokens$toToken","_tokens$toToken2","_tokens$toToken3","fromTokenData","decimals","amountWei","utils","parseUnits","symbol","quoteResult","outputAmount","dstAmount","Math","pow","toFixed","timer","setTimeout","clearTimeout","executeSwap","BigNumber","lt","approvalTx","approveTx","sendTransaction","to","gasLimit","gas","wait","swapData","tx","value","receipt","transactionHash","alert","errorMessage","message","formatTokenAmount","tokenData","formatUnits","renderTokenSelector","onChange","excludeToken","e","target","className","children","fileName","_jsxFileName","lineNumber","columnNumber","entries","filter","_","map","slice","onClick","disabled","type","placeholder","step","min","name","title","max","preset","estimatedGas","protocols","_c","$RefreshReg$"],"sources":["/Users/almazkhalilov/Documents/Hackathon-1inch/frontend/src/components/OneInchSwapComponent.tsx"],"sourcesContent":["import React, { useState, useEffect, useCallback, useMemo } from 'react';\nimport { ethers } from 'ethers';\nimport './OneInchSwapComponent.css';\n\n// Web3 Window extension\ndeclare global {\n  interface Window {\n    ethereum?: any;\n  }\n}\n\n// 1inch API Integration Class\ninterface Token {\n  address: string;\n  symbol: string;\n  name: string;\n  decimals: number;\n  logoURI?: string;\n}\n\ninterface Quote {\n  dstAmount: string;\n  protocols: any[][];\n  estimatedGas?: string;\n}\n\ninterface SwapTransaction {\n  to: string;\n  data: string;\n  value: string;\n  gas: string;\n  gasPrice: string;\n}\n\nclass OneInchAPI {\n  private baseUrl: string;\n\n  constructor() {\n    // Use local backend proxy instead of direct 1inch API\n    this.baseUrl = 'http://localhost:3001/api';\n  }\n\n  async getSupportedTokens(): Promise<{ [address: string]: Token }> {\n    const response = await fetch(`${this.baseUrl}/tokens`);\n\n    if (!response.ok) {\n      throw new Error(`Failed to fetch tokens: ${response.status}`);\n    }\n\n    const data = await response.json();\n    return data.tokens;\n  }\n\n  async getQuote(\n    src: string,\n    dst: string,\n    amount: string,\n    slippage: number = 1\n  ): Promise<Quote> {\n    const url = new URL(`${this.baseUrl}/quote`);\n    url.searchParams.append('src', src);\n    url.searchParams.append('dst', dst);\n    url.searchParams.append('amount', amount);\n    url.searchParams.append('slippage', slippage.toString());\n\n    const response = await fetch(url.toString());\n\n    if (!response.ok) {\n      throw new Error(`Failed to get quote: ${response.status}`);\n    }\n\n    return await response.json();\n  }\n\n  async buildSwap(\n    src: string,\n    dst: string,\n    amount: string,\n    from: string,\n    slippage: number = 1\n  ): Promise<{ tx: SwapTransaction; dstAmount: string }> {\n    const url = new URL(`${this.baseUrl}/swap`);\n    url.searchParams.append('src', src);\n    url.searchParams.append('dst', dst);\n    url.searchParams.append('amount', amount);\n    url.searchParams.append('from', from);\n    url.searchParams.append('slippage', slippage.toString());\n\n    const response = await fetch(url.toString());\n\n    if (!response.ok) {\n      throw new Error(`Failed to build swap: ${response.status}`);\n    }\n\n    return await response.json();\n  }\n\n  async checkAllowance(tokenAddress: string, walletAddress: string): Promise<string> {\n    const url = new URL(`${this.baseUrl}/approve/allowance`);\n    url.searchParams.append('tokenAddress', tokenAddress);\n    url.searchParams.append('walletAddress', walletAddress);\n\n    const response = await fetch(url.toString());\n\n    if (!response.ok) {\n      throw new Error(`Failed to check allowance: ${response.status}`);\n    }\n\n    const data = await response.json();\n    return data.allowance;\n  }\n\n  async buildApproval(tokenAddress: string): Promise<SwapTransaction> {\n    const url = new URL(`${this.baseUrl}/approve/transaction`);\n    url.searchParams.append('tokenAddress', tokenAddress);\n\n    const response = await fetch(url.toString());\n\n    if (!response.ok) {\n      throw new Error(`Failed to build approval: ${response.status}`);\n    }\n\n    return await response.json();\n  }\n}\n\n// React Component for 1inch Token Swapping\nconst OneInchSwapComponent: React.FC = () => {\n  // State management\n  const [tokens, setTokens] = useState<{ [address: string]: Token }>({});\n  const [fromToken, setFromToken] = useState<string>('');\n  const [toToken, setToToken] = useState<string>('');\n  const [amount, setAmount] = useState<string>('');\n  const [quote, setQuote] = useState<Quote | null>(null);\n  const [loading, setLoading] = useState<boolean>(false);\n  const [error, setError] = useState<string>('');\n  const [account, setAccount] = useState<string>('');\n  const [provider, setProvider] = useState<ethers.providers.Web3Provider | null>(null);\n  const [slippage, setSlippage] = useState<number>(1);\n  const [isConnecting, setIsConnecting] = useState<boolean>(false);\n\n  // 1inch API instance (uses local backend proxy) - memoized to prevent infinite re-renders\n  const api = useMemo(() => new OneInchAPI(), []);\n\n  // Common token addresses\n  const commonTokens = {\n    ETH: '0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE',\n    USDC: '0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48',\n    USDT: '0xdac17f958d2ee523a2206206994597c13d831ec7',\n    WETH: '0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2',\n    DAI: '0x6b175474e89094c44da98b954eedeac495271d0f',\n  };\n\n  // Connect wallet\n  const connectWallet = async () => {\n    if (typeof window.ethereum !== 'undefined') {\n      setIsConnecting(true);\n      try {\n        const web3Provider = new ethers.providers.Web3Provider(window.ethereum);\n        await web3Provider.send('eth_requestAccounts', []);\n        const signer = web3Provider.getSigner();\n        const address = await signer.getAddress();\n        \n        setProvider(web3Provider);\n        setAccount(address);\n        setError('');\n        console.log('✅ Wallet connected:', address);\n      } catch (err) {\n        setError('Failed to connect wallet');\n        console.error('Wallet connection error:', err);\n      } finally {\n        setIsConnecting(false);\n      }\n    } else {\n      setError('MetaMask not found. Please install MetaMask!');\n    }\n  };\n\n  // Load supported tokens\n  useEffect(() => {\n    const loadTokens = async () => {\n      try {\n        console.log('🔄 Loading supported tokens...');\n        const supportedTokens = await api.getSupportedTokens();\n        setTokens(supportedTokens);\n        \n        // Set default tokens\n        setFromToken(commonTokens.ETH);\n        setToToken(commonTokens.USDC);\n        \n        console.log(`✅ Loaded ${Object.keys(supportedTokens).length} tokens`);\n      } catch (err) {\n        setError('Failed to load tokens');\n        console.error('Token loading error:', err);\n      }\n    };\n\n    loadTokens();\n  }, [api]);\n\n  // Get quote when inputs change\n  const getQuote = useCallback(async () => {\n    if (!fromToken || !toToken || !amount || isNaN(Number(amount)) || Number(amount) <= 0) {\n      setQuote(null);\n      return;\n    }\n\n    setLoading(true);\n    setError('');\n\n    try {\n      const fromTokenData = tokens[fromToken];\n      const decimals = fromTokenData?.decimals || 18;\n      const amountWei = ethers.utils.parseUnits(amount, decimals).toString();\n\n      console.log(`🔍 Getting quote: ${amount} ${fromTokenData?.symbol} → ${tokens[toToken]?.symbol}`);\n      \n      const quoteResult = await api.getQuote(fromToken, toToken, amountWei, slippage);\n      setQuote(quoteResult);\n      \n      const outputAmount = Number(quoteResult.dstAmount) / Math.pow(10, tokens[toToken]?.decimals || 18);\n      console.log(`✅ Quote: ${outputAmount.toFixed(6)} ${tokens[toToken]?.symbol}`);\n    } catch (err) {\n      setError('Failed to get quote. Please check your inputs.');\n      setQuote(null);\n      console.error('Quote error:', err);\n    } finally {\n      setLoading(false);\n    }\n  }, [fromToken, toToken, amount, slippage, tokens, api]);\n\n  // Debounced quote fetching\n  useEffect(() => {\n    const timer = setTimeout(getQuote, 1000);\n    return () => clearTimeout(timer);\n  }, [getQuote]);\n\n  // Execute swap\n  const executeSwap = async () => {\n    if (!provider || !account || !quote || !amount) {\n      setError('Missing requirements for swap');\n      return;\n    }\n\n    setLoading(true);\n    setError('');\n\n    try {\n      const fromTokenData = tokens[fromToken];\n      const decimals = fromTokenData?.decimals || 18;\n      const amountWei = ethers.utils.parseUnits(amount, decimals).toString();\n\n      console.log('🔄 Starting swap process...');\n\n      // Check if approval is needed (skip for ETH)\n      if (fromToken !== commonTokens.ETH) {\n        console.log('🔐 Checking token approval...');\n        const allowance = await api.checkAllowance(fromToken, account);\n        \n        if (ethers.BigNumber.from(allowance).lt(ethers.BigNumber.from(amountWei))) {\n          console.log('⚠️ Insufficient allowance, requesting approval...');\n          \n          // Build and execute approval\n          const approvalTx = await api.buildApproval(fromToken);\n          const signer = provider.getSigner();\n          \n          const approveTx = await signer.sendTransaction({\n            to: approvalTx.to,\n            data: approvalTx.data,\n            gasLimit: approvalTx.gas,\n          });\n          \n          console.log('⏳ Waiting for approval confirmation...');\n          await approveTx.wait();\n          console.log('✅ Approval confirmed');\n        }\n      }\n\n      // Build and execute swap\n      console.log('🔨 Building swap transaction...');\n      const swapData = await api.buildSwap(fromToken, toToken, amountWei, account, slippage);\n      const signer = provider.getSigner();\n\n      console.log('🚀 Executing swap...');\n      const tx = await signer.sendTransaction({\n        to: swapData.tx.to,\n        data: swapData.tx.data,\n        value: swapData.tx.value,\n        gasLimit: swapData.tx.gas,\n      });\n\n      console.log('⏳ Waiting for confirmation...');\n      const receipt = await tx.wait();\n      \n      // Reset form on success\n      setAmount('');\n      setQuote(null);\n      \n      console.log('🎉 Swap successful!', receipt.transactionHash);\n      alert(`✅ Swap successful!\\nTransaction: ${receipt.transactionHash}`);\n      \n    } catch (err: any) {\n      const errorMessage = err?.message || 'Unknown error';\n      setError(`Swap failed: ${errorMessage}`);\n      console.error('Swap error:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Format token amount for display\n  const formatTokenAmount = (amount: string, tokenAddress: string): string => {\n    if (!amount || !tokenAddress) return '0.0';\n    const tokenData = tokens[tokenAddress];\n    const decimals = tokenData?.decimals || 18;\n    try {\n      return ethers.utils.formatUnits(amount, decimals);\n    } catch (error) {\n      console.error('Error formatting token amount:', error);\n      return '0.0';\n    }\n  };\n\n  // Render token selector\n  const renderTokenSelector = (\n    value: string,\n    onChange: (value: string) => void,\n    excludeToken?: string\n  ) => (\n    <select \n      value={value} \n      onChange={(e) => onChange(e.target.value)}\n      className=\"token-selector\"\n    >\n      <option value=\"\">Select Token</option>\n      {Object.entries(commonTokens)\n        .filter(([_, address]) => address !== excludeToken)\n        .map(([symbol, address]) => (\n          <option key={address} value={address}>\n            {symbol}\n          </option>\n        ))}\n    </select>\n  );\n\n  return (\n    <div className=\"swap-container\">\n      <div className=\"swap-header\">\n        <h2>🔄 Token Swap</h2>\n        <div className=\"api-status\">\n          <span className=\"status-badge\">✅ Live API</span>\n          <span className=\"status-badge\">📊 Real Data</span>\n        </div>\n      </div>\n      \n      {/* Wallet Connection */}\n      <div className=\"wallet-section\">\n        {account ? (\n          <div className=\"wallet-connected\">\n            <span className=\"wallet-icon\">💼</span>\n            <span>Connected: {account.slice(0, 6)}...{account.slice(-4)}</span>\n            <span className=\"network-badge\">Ethereum</span>\n          </div>\n        ) : (\n          <button \n            onClick={connectWallet} \n            className=\"connect-button\"\n            disabled={isConnecting}\n          >\n            {isConnecting ? 'Connecting...' : '🔗 Connect Wallet'}\n          </button>\n        )}\n      </div>\n\n      {/* Error Display */}\n      {error && (\n        <div className=\"error-message\">\n          <span className=\"error-icon\">⚠️</span>\n          {error}\n        </div>\n      )}\n\n      {/* Swap Interface */}\n      <div className=\"swap-interface\">\n        {/* From Token */}\n        <div className=\"token-input-group\">\n          <label className=\"input-label\">From</label>\n          <div className=\"token-input\">\n            {renderTokenSelector(fromToken, setFromToken, toToken)}\n            <input\n              type=\"number\"\n              value={amount}\n              onChange={(e) => setAmount(e.target.value)}\n              placeholder=\"0.0\"\n              className=\"amount-input\"\n              step=\"any\"\n              min=\"0\"\n            />\n          </div>\n          {fromToken && tokens[fromToken] && (\n            <div className=\"token-info\">\n              {tokens[fromToken]?.name || 'Loading...'}\n            </div>\n          )}\n        </div>\n\n        {/* Swap Direction Button */}\n        <div className=\"swap-direction-container\">\n          <button\n            onClick={() => {\n              setFromToken(toToken);\n              setToToken(fromToken);\n              setQuote(null);\n            }}\n            className=\"swap-direction\"\n            title=\"Swap token order\"\n          >\n            ⇅\n          </button>\n        </div>\n\n        {/* To Token */}\n        <div className=\"token-input-group\">\n          <label className=\"input-label\">To</label>\n          <div className=\"token-input\">\n            {renderTokenSelector(toToken, setToToken, fromToken)}\n            <div className=\"amount-display\">\n              {quote ? formatTokenAmount(quote.dstAmount, toToken) : '0.0'}\n            </div>\n          </div>\n          {toToken && tokens[toToken] && (\n            <div className=\"token-info\">\n              {tokens[toToken].name}\n            </div>\n          )}\n        </div>\n\n        {/* Slippage Settings */}\n        <div className=\"slippage-settings\">\n          <label className=\"settings-label\">\n            ⚙️ Slippage: {slippage}%\n          </label>\n          <div className=\"slippage-controls\">\n            <input\n              type=\"range\"\n              min=\"0.1\"\n              max=\"5\"\n              step=\"0.1\"\n              value={slippage}\n              onChange={(e) => setSlippage(Number(e.target.value))}\n              className=\"slippage-slider\"\n            />\n            <div className=\"slippage-presets\">\n              {[0.5, 1, 2, 5].map(preset => (\n                <button\n                  key={preset}\n                  onClick={() => setSlippage(preset)}\n                  className={`preset-button ${slippage === preset ? 'active' : ''}`}\n                >\n                  {preset}%\n                </button>\n              ))}\n            </div>\n          </div>\n        </div>\n\n        {/* Quote Display */}\n        {quote && Object.keys(tokens).length > 0 && (\n          <div className=\"quote-display\">\n            <h3>📊 Quote Details</h3>\n            <div className=\"quote-item\">\n              <span>Expected Output:</span>\n              <span className=\"quote-value\">\n                {formatTokenAmount(quote.dstAmount, toToken)} {tokens[toToken]?.symbol || 'Token'}\n              </span>\n            </div>\n            {quote.estimatedGas && (\n              <div className=\"quote-item\">\n                <span>Estimated Gas:</span>\n                <span className=\"quote-value\">{quote.estimatedGas}</span>\n              </div>\n            )}\n            <div className=\"quote-item\">\n              <span>Route:</span>\n              <span className=\"quote-value\">{quote.protocols?.[0]?.length || 0} protocol(s)</span>\n            </div>\n          </div>\n        )}\n\n        {/* Swap Button */}\n        <button\n          onClick={executeSwap}\n          disabled={!account || !quote || loading || !amount}\n          className={`swap-button ${loading ? 'loading' : ''}`}\n        >\n          {loading ? (\n            <>\n              <span className=\"spinner\">⏳</span>\n              Processing...\n            </>\n          ) : (\n            '🚀 Swap Tokens'\n          )}\n        </button>\n\n        {/* Info Section */}\n        <div className=\"info-section\">\n          <div className=\"info-item\">\n            <span>💡 This uses the real 1inch API</span>\n          </div>\n          <div className=\"info-item\">\n            <span>🔐 Your wallet stays secure</span>\n          </div>\n          <div className=\"info-item\">\n            <span>⚡ Best rates from 139 protocols</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default OneInchSwapComponent; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}